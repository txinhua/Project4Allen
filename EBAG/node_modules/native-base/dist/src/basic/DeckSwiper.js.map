{"version":3,"sources":["../../../src/basic/DeckSwiper.js"],"names":["SWIPE_THRESHOLD","DeckSwiper","props","getInitialStyle","topCard","position","top","right","left","state","pan","Animated","ValueXY","pan2","enter","Value","selectedItem","dataSource","selectedItem2","card1Top","card2Top","fadeAnim","looping","disabled","length","lastCard","_panResponder","PanResponder","create","onMoveShouldSetResponderCapture","onMoveShouldSetPanResponderCapture","evt","gestureState","Math","abs","dx","onPanResponderGrant","setOffset","x","_value","y","setValue","onPanResponderMove","e","onSwiping","val","timing","toValue","start","spring","friction","event","onPanResponderRelease","vx","vy","velocity","onSwipeRight","undefined","selectNext","onSwipeLeft","decay","deceleration","_resetState","bind","setState","visibleIndex","indexOf","currentIndex","nextIndex","translateX","translateY","rotate","interpolate","inputRange","outputRange","opacity","scale","animatedCardStyles","transform","animatedCardStyles2","setTimeout","nextIndexes","findNextIndexes","newIdx","newIdx2","flexDirection","renderEmpty","getCardStyles","panHandlers","renderItem","renderBottom","renderTop","Component","propTypes","ViewPropTypes","style","PropTypes","oneOfType","object","number","array","StyledDeckSwiper","mapPropsToStyleNames"],"mappings":"+1BAAA,4B,2CACA,qC,mDACA,yCACA,4B,2CACA,iEAEA,mE,08BAEA,GAAMA,iBAAkB,GAAxB,C,GAEMC,W,uDACJ,oBAAYC,KAAZ,CAAmB,gJACXA,KADW,SAkHnBC,eAlHmB,CAkHD,UAAM,CACtB,MAAO,CACLC,QAAS,CACPC,SAAU,UADH,CAEPC,IAAK,CAFE,CAGPC,MAAO,CAHA,CAIPC,KAAM,CAJC,CADJ,CAAP,CAQD,CA3HkB,CAEjB,MAAKC,KAAL,CAAa,CACXC,IAAK,GAAIC,uBAASC,OAAb,EADM,CAEXC,KAAM,GAAIF,uBAASC,OAAb,EAFK,CAGXE,MAAO,GAAIH,uBAASI,KAAb,CAAmB,GAAnB,CAHI,CAIXC,aAAc,MAAKd,KAAL,CAAWe,UAAX,CAAsB,CAAtB,CAJH,CAKXC,cAAe,MAAKhB,KAAL,CAAWe,UAAX,CAAsB,CAAtB,CALJ,CAMXE,SAAU,IANC,CAOXC,SAAU,KAPC,CAQXC,SAAU,GAAIV,uBAASI,KAAb,CAAmB,GAAnB,CARC,CASXO,QACE,MAAO,OAAKpB,KAAL,CAAWoB,OAAlB,GAA8B,WAA9B,CAA4C,IAA5C,CAAmD,MAAKpB,KAAL,CAAWoB,OAVrD,CAWXC,SAAU,MAAKrB,KAAL,CAAWe,UAAX,CAAsBO,MAAtB,GAAiC,CAXhC,CAYXC,SAAU,MAAKvB,KAAL,CAAWe,UAAX,CAAsBO,MAAtB,GAAiC,CAZhC,CAAb,CAFiB,aAgBlB,C,sFAEoB,iBACnB,KAAKE,aAAL,CAAqBC,0BAAaC,MAAb,CAAoB,CACvCC,gCAAiC,iDAAM,KAAN,EADM,CAEvCC,mCAAoC,4CAACC,GAAD,CAAMC,YAAN,QAClCC,MAAKC,GAAL,CAASF,aAAaG,EAAtB,EAA4B,CADM,EAFG,CAKvCC,oBAAqB,8BAAM,CACzB,OAAK3B,KAAL,CAAWC,GAAX,CAAe2B,SAAf,CAAyB,CACvBC,EAAG,OAAK7B,KAAL,CAAWC,GAAX,CAAe4B,CAAf,CAAiBC,MADG,CAEvBC,EAAG,OAAK/B,KAAL,CAAWC,GAAX,CAAe8B,CAAf,CAAiBD,MAFG,CAAzB,EAIA,OAAK9B,KAAL,CAAWC,GAAX,CAAe+B,QAAf,CAAwB,CAAEH,EAAG,CAAL,CAAQE,EAAG,CAAX,CAAxB,EACD,CAXsC,CAavCE,mBAAoB,4BAACC,CAAD,CAAIX,YAAJ,CAAqB,CACvC,GAAIA,aAAaG,EAAb,CAAkB,EAAtB,CAA0B,CACxB,GAAI,OAAKjC,KAAL,CAAW0C,SAAf,CACE,OAAK1C,KAAL,CAAW0C,SAAX,CAAqB,OAArB,CAA8BZ,aAAaG,EAA3C,EACH,CAHD,IAGO,IAAIH,aAAaG,EAAb,CAAkB,CAAC,EAAvB,CAA2B,CAChC,GAAI,OAAKjC,KAAL,CAAW0C,SAAf,CACE,OAAK1C,KAAL,CAAW0C,SAAX,CAAqB,MAArB,CAA6BZ,aAAaG,EAA1C,EACH,CACD,GAAIU,KAAMZ,KAAKC,GAAL,CAASF,aAAaG,EAAb,CAAkB,MAA3B,CAAV,CACA,GAAIU,IAAM,GAAV,CAAe,CACbA,IAAM,GAAN,CACD,CACDlC,sBAASmC,MAAT,CAAgB,OAAKrC,KAAL,CAAWY,QAA3B,CAAqC,CAAE0B,QAAS,IAAMF,GAAjB,CAArC,EAA6DG,KAA7D,GACArC,sBAASsC,MAAT,CAAgB,OAAKxC,KAAL,CAAWK,KAA3B,CAAkC,CAChCiC,QAAS,IAAMF,GADiB,CAEhCK,SAAU,CAFsB,CAAlC,EAGGF,KAHH,GAIArC,sBAASwC,KAAT,CAAe,CAAC,IAAD,CAAO,CAAEhB,GAAI,OAAK1B,KAAL,CAAWC,GAAX,CAAe4B,CAArB,CAAP,CAAf,EAAiDK,CAAjD,CAAoDX,YAApD,EACD,CA/BsC,CAiCvCoB,sBAAuB,+BAACT,CAAD,MAAmB,IAAbU,GAAa,MAAbA,EAAa,CAATC,EAAS,MAATA,EAAS,CACxC,GAAI,OAAKpD,KAAL,CAAW0C,SAAf,CAA0B,OAAK1C,KAAL,CAAW0C,SAAX,CAAqB,IAArB,EAC1B,GAAIW,gBAAJ,CAEA,GAAIF,IAAM,CAAV,CAAa,CACXE,SAAW,oBAAMF,EAAN,CAAU,GAAV,CAAe,EAAf,CAAX,CACD,CAFD,IAEO,IAAIA,GAAK,CAAT,CAAY,CACjBE,SAAW,oBAAMF,GAAK,CAAC,CAAZ,CAAe,GAAf,CAAoB,EAApB,EAA0B,CAAC,CAAtC,CACD,CAED,GAAIpB,KAAKC,GAAL,CAAS,OAAKzB,KAAL,CAAWC,GAAX,CAAe4B,CAAf,CAAiBC,MAA1B,EAAoCvC,eAAxC,CAAyD,CACvD,GAAIuD,SAAW,CAAf,CAAkB,CAChB,OAAKrD,KAAL,CAAWsD,YAAX,CACI,OAAKtD,KAAL,CAAWsD,YAAX,CAAwB,OAAK/C,KAAL,CAAWO,YAAnC,CADJ,CAEIyC,SAFJ,CAGA,OAAKC,UAAL,GACD,CALD,IAKO,CACL,OAAKxD,KAAL,CAAWyD,WAAX,CACI,OAAKzD,KAAL,CAAWyD,WAAX,CAAuB,OAAKlD,KAAL,CAAWO,YAAlC,CADJ,CAEIyC,SAFJ,CAGA,OAAKC,UAAL,GACD,CAED/C,sBAASiD,KAAT,CAAe,OAAKnD,KAAL,CAAWC,GAA1B,CAA+B,CAC7B6C,SAAU,CAAEjB,EAAGiB,QAAL,CAAef,EAAGc,EAAlB,CADmB,CAE7BO,aAAc,IAFe,CAA/B,EAGGb,KAHH,CAGS,OAAKc,WAAL,CAAiBC,IAAjB,CAAsB,MAAtB,CAHT,EAID,CAjBD,IAiBO,CACLpD,sBAASsC,MAAT,CAAgB,OAAKxC,KAAL,CAAWC,GAA3B,CAAgC,CAC9BqC,QAAS,CAAET,EAAG,CAAL,CAAQE,EAAG,CAAX,CADqB,CAE9BU,SAAU,CAFoB,CAAhC,EAGGF,KAHH,GAID,CACF,CAlEsC,CAApB,CAArB,CAoED,C,kFAEyC,IAAd/B,WAAc,OAAdA,UAAc,CACxC,GAAIA,WAAWO,MAAX,GAAsB,KAAKtB,KAAL,CAAWe,UAAX,CAAsBO,MAAhD,CAAwD,CACtD,GAAIP,WAAWO,MAAX,EAAqB,CAAzB,CAA4B,CAC1B,KAAKwC,QAAL,aACK,KAAKvD,KADV,EAEEO,aAAcC,WAAW,CAAX,CAFhB,CAGEC,cAAeuC,SAHjB,CAIElC,SAAUN,WAAWO,MAAX,GAAsB,CAJlC,CAKEC,SAAUR,WAAWO,MAAX,GAAsB,CALlC,IAOA,OACD,CAED,GAAMyC,cAAehD,WAAWiD,OAAX,CAAmB,KAAKzD,KAAL,CAAWO,YAA9B,CAArB,CACA,GAAMmD,cAAeF,aAAe,CAAf,CAAmBA,aAAe,CAAlC,CAAsCA,YAA3D,CACA,GAAMG,WACJD,aAAe,CAAf,GAAqBlD,WAAWO,MAAhC,CAAyC,CAAzC,CAA6C2C,aAAe,CAD9D,CAGA,KAAKH,QAAL,CAAc,CACZhD,aAAcC,WAAWkD,YAAX,CADF,CAEZjD,cAAeD,WAAWmD,SAAX,CAFH,CAAd,EAID,CACF,C,qDAae,YACS,KAAK3D,KADd,CACNC,GADM,QACNA,GADM,CACDI,KADC,QACDA,KADC,WAGmB,CAACJ,IAAI4B,CAAL,CAAQ5B,IAAI8B,CAAZ,CAHnB,CAGP6B,UAHO,UAGKC,UAHL,UAMd,GAAMC,QAAS7D,IAAI4B,CAAJ,CAAMkC,WAAN,CAAkB,CAC/BC,WAAY,CAAC,CAAC,GAAF,CAAO,CAAP,CAAU,GAAV,CADmB,CAE/BC,YAAa,CAAC,QAAD,CAAW,MAAX,CAAmB,OAAnB,CAFkB,CAAlB,CAAf,CAKA,GAAMC,SAAUjE,IAAI4B,CAAJ,CAAMkC,WAAN,CAAkB,CAChCC,WAAY,CAAC,CAAC,GAAF,CAAO,CAAP,CAAU,GAAV,CADoB,CAEhCC,YAAa,CAAC,GAAD,CAAM,CAAN,CAAS,GAAT,CAFmB,CAAlB,CAAhB,CAIA,GAAME,OAAQ9D,KAAd,CAEA,GAAM+D,oBAAqB,CACzBC,UAAW,CAAC,CAAET,qBAAF,CAAD,CAAiB,CAAEC,qBAAF,CAAjB,CAAiC,CAAEC,aAAF,CAAjC,CADc,CAEzBI,eAFyB,CAA3B,CAIA,GAAMI,qBAAsB,CAAED,UAAW,CAAC,CAAEF,WAAF,CAAD,CAAb,CAA5B,CAEA,MAAO,CAACC,kBAAD,CAAqBE,mBAArB,CAAP,CACD,C,iDAEa,CACZ,KAAKtE,KAAL,CAAWC,GAAX,CAAe+B,QAAf,CAAwB,CAAEH,EAAG,CAAL,CAAQE,EAAG,CAAX,CAAxB,EACA,KAAK/B,KAAL,CAAWK,KAAX,CAAiB2B,QAAjB,CAA0B,GAA1B,EACA,KAAKhC,KAAL,CAAWY,QAAX,CAAoBoB,QAApB,CAA6B,GAA7B,EACA,KAAKuB,QAAL,CAAc,CACZ7C,SAAU,CAAC,KAAKV,KAAL,CAAWU,QADV,CAEZC,SAAU,CAAC,KAAKX,KAAL,CAAWW,QAFV,CAAd,EAIA,GAAI,KAAKlB,KAAL,CAAW0C,SAAf,CAA0B,KAAK1C,KAAL,CAAW0C,SAAX,CAAqB,IAArB,EAC3B,C,+CAEY,iBACX,GAAI,KAAK1C,KAAL,CAAW0C,SAAf,CAA0B,KAAK1C,KAAL,CAAW0C,SAAX,CAAqB,OAArB,EAC1BoC,WAAW,UAAM,CACfrE,sBAASmC,MAAT,CAAgB,OAAKrC,KAAL,CAAWY,QAA3B,CAAqC,CAAE0B,QAAS,CAAX,CAArC,EAAqDC,KAArD,GACArC,sBAASsC,MAAT,CAAgB,OAAKxC,KAAL,CAAWK,KAA3B,CAAkC,CAAEiC,QAAS,CAAX,CAAcG,SAAU,CAAxB,CAAlC,EAA+DF,KAA/D,GACA,OAAKU,UAAL,GACA/C,sBAASiD,KAAT,CAAe,OAAKnD,KAAL,CAAWC,GAA1B,CAA+B,CAC7B6C,SAAU,CAAEjB,EAAG,CAAL,CAAQE,EAAG,CAAX,CADmB,CAE7BqB,aAAc,IAFe,CAA/B,EAGGb,KAHH,CAGS,OAAKc,WAAL,CAAiBC,IAAjB,CAAsB,MAAtB,CAHT,EAID,CARD,CAQG,GARH,EASD,C,6CAEW,iBACV,GAAI,KAAK7D,KAAL,CAAW0C,SAAf,CAA0B,KAAK1C,KAAL,CAAW0C,SAAX,CAAqB,MAArB,EAC1BoC,WAAW,UAAM,CACfrE,sBAASmC,MAAT,CAAgB,OAAKrC,KAAL,CAAWY,QAA3B,CAAqC,CAAE0B,QAAS,CAAX,CAArC,EAAqDC,KAArD,GACArC,sBAASsC,MAAT,CAAgB,OAAKxC,KAAL,CAAWK,KAA3B,CAAkC,CAAEiC,QAAS,CAAX,CAAcG,SAAU,CAAxB,CAAlC,EAA+DF,KAA/D,GACA,OAAKU,UAAL,GACA/C,sBAASiD,KAAT,CAAe,OAAKnD,KAAL,CAAWC,GAA1B,CAA+B,CAC7B6C,SAAU,CAAEjB,EAAG,CAAC,CAAN,CAASE,EAAG,CAAZ,CADmB,CAE7BqB,aAAc,IAFe,CAA/B,EAGGb,KAHH,CAGS,OAAKc,WAAL,CAAiBC,IAAjB,CAAsB,MAAtB,CAHT,EAID,CARD,CAQG,GARH,EASD,C,+CAEY,iBACX,GAAM9C,YAAa,KAAKf,KAAL,CAAWe,UAA9B,CACA,GAAMkD,cAAelD,WAAWiD,OAAX,CAAmB,KAAKzD,KAAL,CAAWO,YAA9B,CAArB,CAGA,GAAI,CAAC,KAAKP,KAAL,CAAWa,OAAhB,CAAyB,CAEvB,GAAI6C,eAAiBlD,WAAWO,MAAX,CAAoB,CAAzC,CAA4C,CAC1C,MAAO,MAAKwC,QAAL,CAAc,CACnBzC,SAAU,IADS,CAAd,CAAP,CAGD,CAJD,IAIO,IAAI4C,eAAiBlD,WAAWO,MAAX,CAAoB,CAAzC,CAA4C,CAEjD,MAAOwD,YAAW,UAAM,CACtB,OAAKhB,QAAL,CAAc,CACZhD,aAAcC,WAAWkD,aAAe,CAA1B,CADF,CAAd,EAGAa,WAAW,UAAM,CACf,OAAKhB,QAAL,CAAc,CACZvC,SAAU,IADE,CAAd,EAGD,CAJD,CAIG,GAJH,EAKD,CATM,CASJ,EATI,CAAP,CAUD,CACF,CAED,GAAMwD,aAAc,KAAKC,eAAL,CAAqBf,YAArB,CAApB,CACAa,WAAW,UAAM,CACf,OAAKhB,QAAL,CAAc,CACZhD,aAAc,OAAKd,KAAL,CAAWe,UAAX,CAAsBgE,YAAY,CAAZ,CAAtB,CADF,CAAd,EAGAD,WAAW,UAAM,CACf,OAAKhB,QAAL,CAAc,CACZ9C,cAAe,OAAKhB,KAAL,CAAWe,UAAX,CAAsBgE,YAAY,CAAZ,CAAtB,CADH,CAAd,EAGD,CAJD,CAIG,GAJH,EAKD,CATD,CASG,EATH,EAWA,MAAO,KAAP,CACD,C,wDAEed,Y,CAAc,CAC5B,GAAMgB,QAAShB,aAAe,CAA9B,CACA,GAAMiB,SAAUjB,aAAe,CAA/B,CAEA,GACEiB,QAAU,KAAKlF,KAAL,CAAWe,UAAX,CAAsBO,MAAtB,CAA+B,CAAzC,EACA2D,SAAW,KAAKjF,KAAL,CAAWe,UAAX,CAAsBO,MAAtB,CAA+B,CAF5C,CAGE,CACA,MAAO,CAAC2D,MAAD,CAAS,CAAT,CAAP,CACD,CALD,IAKO,IAAIA,OAAS,KAAKjF,KAAL,CAAWe,UAAX,CAAsBO,MAAtB,CAA+B,CAA5C,CAA+C,CACpD,MAAO,CAAC,CAAD,CAAI,CAAJ,CAAP,CACD,CACD,MAAO,CAAC2D,MAAD,CAASC,OAAT,CAAP,CACD,C,uCAEQ,CACP,GAAI,KAAK3E,KAAL,CAAWc,QAAf,CAAyB,CAEvB,MACE,+BAAC,iBAAD,EAAM,MAAO,CAAElB,SAAU,UAAZ,CAAwBgF,cAAe,QAAvC,CAAb,kDACG,8BAAC,iBAAD,mDAAO,KAAKnF,KAAL,CAAWoF,WAAX,EAA0B,KAAKpF,KAAL,CAAWoF,WAAX,EAAjC,CADH,CADF,CAKD,CAPD,IAOO,IAAI,KAAK7E,KAAL,CAAWgB,QAAf,CAAyB,CAE9B,MACE,+BAAC,iBAAD,EAAM,MAAO,CAAEpB,SAAU,UAAZ,CAAwBgF,cAAe,QAAvC,CAAb,kDACG,KAAK5E,KAAL,CAAWO,YAAX,GAA4ByC,SAA5B,CACC,8BAAC,iBAAD,mDADD,CAGC,8BAAC,iBAAD,mDACE,8BAAC,qBAAD,CAAU,IAAV,WACE,MAAO,CACL,KAAK8B,aAAL,GAAqB,CAArB,CADK,CAEL,KAAKpF,eAAL,GAAuBC,OAFlB,CAGL,CAAEuE,QAAS,KAAKlE,KAAL,CAAWY,QAAtB,CAHK,CADT,EAMM,KAAKK,aAAL,CAAmB8D,WANzB,oDAQG,KAAKtF,KAAL,CAAWoF,WAAX,EAA0B,KAAKpF,KAAL,CAAWoF,WAAX,EAR7B,CADF,CAWE,8BAAC,qBAAD,CAAU,IAAV,WACE,MAAO,CACL,KAAKC,aAAL,GAAqB,CAArB,CADK,CAEL,KAAKpF,eAAL,GAAuBC,OAFlB,CADT,EAKM,KAAKsB,aAAL,CAAmB8D,WALzB,oDAOG,KAAKtF,KAAL,CAAWuF,UAAX,CAAsB,KAAKhF,KAAL,CAAWO,YAAjC,CAPH,CAXF,CAJJ,CADF,CA6BD,CACD,MACE,+BAAC,iBAAD,EAAM,MAAO,CAAEX,SAAU,UAAZ,CAAwBgF,cAAe,QAAvC,CAAb,kDACG,KAAK5E,KAAL,CAAWO,YAAX,GAA4ByC,SAA5B,CACC,8BAAC,iBAAD,mDADD,CAGC,8BAAC,iBAAD,mDACE,8BAAC,qBAAD,CAAU,IAAV,WACE,MAAO,CACL,KAAK8B,aAAL,GAAqB,CAArB,CADK,CAEL,KAAKpF,eAAL,GAAuBC,OAFlB,CAGL,CAAEuE,QAAS,KAAKlE,KAAL,CAAWY,QAAtB,CAHK,CADT,EAMM,KAAKK,aAAL,CAAmB8D,WANzB,oDAQG,KAAKtF,KAAL,CAAWwF,YAAX,CACG,KAAKxF,KAAL,CAAWwF,YAAX,CAAwB,KAAKjF,KAAL,CAAWS,aAAnC,CADH,CAEG,KAAKhB,KAAL,CAAWuF,UAAX,CAAsB,KAAKhF,KAAL,CAAWS,aAAjC,CAVN,CADF,CAaE,8BAAC,qBAAD,CAAU,IAAV,WACE,MAAO,CAAC,KAAKqE,aAAL,GAAqB,CAArB,CAAD,CAA0B,KAAKpF,eAAL,GAAuBC,OAAjD,CADT,EAEM,KAAKsB,aAAL,CAAmB8D,WAFzB,oDAIG,KAAKtF,KAAL,CAAWyF,SAAX,CACG,KAAKzF,KAAL,CAAWyF,SAAX,CAAqB,KAAKlF,KAAL,CAAWO,YAAhC,CADH,CAEG,KAAKd,KAAL,CAAWuF,UAAX,CAAsB,KAAKhF,KAAL,CAAWO,YAAjC,CANN,CAbF,CAJJ,CADF,CA8BD,C,wBA3TsB4E,gB,EA8TzB3F,WAAW4F,SAAX,aACKC,0BADL,EAEEC,MAAOC,oBAAUC,SAAV,CAAoB,CACzBD,oBAAUE,MADe,CAEzBF,oBAAUG,MAFe,CAGzBH,oBAAUI,KAHe,CAApB,CAFT,CAQEnF,WAAY+E,oBAAUI,KARxB,GAWA,GAAMC,kBAAmB,yCACvB,uBADuB,CAEvB,EAFuB,CAGvBC,8BAHuB,EAIvBrG,UAJuB,CAAzB,C,QAM6BA,U,CAApBoG,gB","file":"DeckSwiper.js","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { View, Animated, PanResponder, ViewPropTypes } from 'react-native';\nimport clamp from 'clamp';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nconst SWIPE_THRESHOLD = 120;\n\nclass DeckSwiper extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pan: new Animated.ValueXY(),\n      pan2: new Animated.ValueXY(),\n      enter: new Animated.Value(0.8),\n      selectedItem: this.props.dataSource[0],\n      selectedItem2: this.props.dataSource[1],\n      card1Top: true,\n      card2Top: false,\n      fadeAnim: new Animated.Value(0.8),\n      looping:\n        typeof this.props.looping === 'undefined' ? true : this.props.looping,\n      disabled: this.props.dataSource.length === 0,\n      lastCard: this.props.dataSource.length === 1\n    };\n  }\n\n  componentWillMount() {\n    this._panResponder = PanResponder.create({\n      onMoveShouldSetResponderCapture: () => true,\n      onMoveShouldSetPanResponderCapture: (evt, gestureState) =>\n        Math.abs(gestureState.dx) > 5,\n\n      onPanResponderGrant: () => {\n        this.state.pan.setOffset({\n          x: this.state.pan.x._value,\n          y: this.state.pan.y._value\n        });\n        this.state.pan.setValue({ x: 0, y: 0 });\n      },\n\n      onPanResponderMove: (e, gestureState) => {\n        if (gestureState.dx > 20) {\n          if (this.props.onSwiping)\n            this.props.onSwiping('right', gestureState.dx);\n        } else if (gestureState.dx < -20) {\n          if (this.props.onSwiping)\n            this.props.onSwiping('left', gestureState.dx);\n        }\n        let val = Math.abs(gestureState.dx * 0.0013);\n        if (val > 0.2) {\n          val = 0.2;\n        }\n        Animated.timing(this.state.fadeAnim, { toValue: 0.8 + val }).start();\n        Animated.spring(this.state.enter, {\n          toValue: 0.8 + val,\n          friction: 7\n        }).start();\n        Animated.event([null, { dx: this.state.pan.x }])(e, gestureState);\n      },\n\n      onPanResponderRelease: (e, { vx, vy }) => {\n        if (this.props.onSwiping) this.props.onSwiping(null);\n        let velocity;\n\n        if (vx >= 0) {\n          velocity = clamp(vx, 4.5, 10);\n        } else if (vx < 0) {\n          velocity = clamp(vx * -1, 4.5, 10) * -1;\n        }\n\n        if (Math.abs(this.state.pan.x._value) > SWIPE_THRESHOLD) {\n          if (velocity > 0) {\n            this.props.onSwipeRight\n              ? this.props.onSwipeRight(this.state.selectedItem)\n              : undefined;\n            this.selectNext();\n          } else {\n            this.props.onSwipeLeft\n              ? this.props.onSwipeLeft(this.state.selectedItem)\n              : undefined;\n            this.selectNext();\n          }\n\n          Animated.decay(this.state.pan, {\n            velocity: { x: velocity, y: vy },\n            deceleration: 0.98\n          }).start(this._resetState.bind(this));\n        } else {\n          Animated.spring(this.state.pan, {\n            toValue: { x: 0, y: 0 },\n            friction: 4\n          }).start();\n        }\n      }\n    });\n  }\n\n  componentWillReceiveProps({ dataSource }) {\n    if (dataSource.length !== this.props.dataSource.length) {\n      if (dataSource.length <= 1) {\n        this.setState({\n          ...this.state,\n          selectedItem: dataSource[0],\n          selectedItem2: undefined,\n          disabled: dataSource.length === 0,\n          lastCard: dataSource.length === 1\n        });\n        return;\n      }\n\n      const visibleIndex = dataSource.indexOf(this.state.selectedItem);\n      const currentIndex = visibleIndex < 0 ? visibleIndex + 1 : visibleIndex;\n      const nextIndex =\n        currentIndex + 1 === dataSource.length ? 0 : currentIndex + 1;\n\n      this.setState({\n        selectedItem: dataSource[currentIndex],\n        selectedItem2: dataSource[nextIndex]\n      });\n    }\n  }\n\n  getInitialStyle = () => {\n    return {\n      topCard: {\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        left: 0\n      }\n    };\n  };\n\n  getCardStyles() {\n    const { pan, enter } = this.state;\n\n    const [translateX, translateY] = [pan.x, pan.y];\n    // let [translateX, translateY] = [pan2.x, pan2.y];\n\n    const rotate = pan.x.interpolate({\n      inputRange: [-700, 0, 700],\n      outputRange: ['-10deg', '0deg', '10deg']\n    });\n\n    const opacity = pan.x.interpolate({\n      inputRange: [-320, 0, 320],\n      outputRange: [0.9, 1, 0.9]\n    });\n    const scale = enter;\n\n    const animatedCardStyles = {\n      transform: [{ translateX }, { translateY }, { rotate }],\n      opacity\n    };\n    const animatedCardStyles2 = { transform: [{ scale }] };\n\n    return [animatedCardStyles, animatedCardStyles2];\n  }\n\n  _resetState() {\n    this.state.pan.setValue({ x: 0, y: 0 });\n    this.state.enter.setValue(0.8);\n    this.state.fadeAnim.setValue(0.8);\n    this.setState({\n      card1Top: !this.state.card1Top,\n      card2Top: !this.state.card2Top\n    });\n    if (this.props.onSwiping) this.props.onSwiping(null);\n  }\n\n  swipeRight() {\n    if (this.props.onSwiping) this.props.onSwiping('right');\n    setTimeout(() => {\n      Animated.timing(this.state.fadeAnim, { toValue: 1 }).start();\n      Animated.spring(this.state.enter, { toValue: 1, friction: 7 }).start();\n      this.selectNext();\n      Animated.decay(this.state.pan, {\n        velocity: { x: 8, y: 1 },\n        deceleration: 0.98\n      }).start(this._resetState.bind(this));\n    }, 300);\n  }\n\n  swipeLeft() {\n    if (this.props.onSwiping) this.props.onSwiping('left');\n    setTimeout(() => {\n      Animated.timing(this.state.fadeAnim, { toValue: 1 }).start();\n      Animated.spring(this.state.enter, { toValue: 1, friction: 7 }).start();\n      this.selectNext();\n      Animated.decay(this.state.pan, {\n        velocity: { x: -8, y: 1 },\n        deceleration: 0.98\n      }).start(this._resetState.bind(this));\n    }, 300);\n  }\n\n  selectNext() {\n    const dataSource = this.props.dataSource;\n    const currentIndex = dataSource.indexOf(this.state.selectedItem);\n\n    // if not looping, check for these conditionals and if true return from selectNext()\n    if (!this.state.looping) {\n      // reached end -> only display static renderEmpty() -> no swiping\n      if (currentIndex === dataSource.length - 1) {\n        return this.setState({\n          disabled: true\n        });\n      } else if (currentIndex === dataSource.length - 2) {\n        // show last card with renderEmpty() component behind it\n        return setTimeout(() => {\n          this.setState({\n            selectedItem: dataSource[currentIndex + 1]\n          });\n          setTimeout(() => {\n            this.setState({\n              lastCard: true\n            });\n          }, 350);\n        }, 50);\n      }\n    }\n\n    const nextIndexes = this.findNextIndexes(currentIndex);\n    setTimeout(() => {\n      this.setState({\n        selectedItem: this.props.dataSource[nextIndexes[0]]\n      });\n      setTimeout(() => {\n        this.setState({\n          selectedItem2: this.props.dataSource[nextIndexes[1]]\n        });\n      }, 350);\n    }, 50);\n\n    return null;\n  }\n\n  findNextIndexes(currentIndex) {\n    const newIdx = currentIndex + 1;\n    const newIdx2 = currentIndex + 2;\n\n    if (\n      newIdx2 > this.props.dataSource.length - 1 &&\n      newIdx === this.props.dataSource.length - 1\n    ) {\n      return [newIdx, 0];\n    } else if (newIdx > this.props.dataSource.length - 1) {\n      return [0, 1];\n    }\n    return [newIdx, newIdx2];\n  }\n\n  render() {\n    if (this.state.disabled) {\n      // disable swiping and renderEmpty\n      return (\n        <View style={{ position: 'relative', flexDirection: 'column' }}>\n          {<View>{this.props.renderEmpty && this.props.renderEmpty()}</View>}\n        </View>\n      );\n    } else if (this.state.lastCard) {\n      // display renderEmpty underneath last viable card\n      return (\n        <View style={{ position: 'relative', flexDirection: 'column' }}>\n          {this.state.selectedItem === undefined ? (\n            <View />\n          ) : (\n            <View>\n              <Animated.View\n                style={[\n                  this.getCardStyles()[1],\n                  this.getInitialStyle().topCard,\n                  { opacity: this.state.fadeAnim }\n                ]}\n                {...this._panResponder.panHandlers}\n              >\n                {this.props.renderEmpty && this.props.renderEmpty()}\n              </Animated.View>\n              <Animated.View\n                style={[\n                  this.getCardStyles()[0],\n                  this.getInitialStyle().topCard\n                ]}\n                {...this._panResponder.panHandlers}\n              >\n                {this.props.renderItem(this.state.selectedItem)}\n              </Animated.View>\n            </View>\n          )}\n        </View>\n      );\n    }\n    return (\n      <View style={{ position: 'relative', flexDirection: 'column' }}>\n        {this.state.selectedItem === undefined ? (\n          <View />\n        ) : (\n          <View>\n            <Animated.View\n              style={[\n                this.getCardStyles()[1],\n                this.getInitialStyle().topCard,\n                { opacity: this.state.fadeAnim }\n              ]}\n              {...this._panResponder.panHandlers}\n            >\n              {this.props.renderBottom\n                ? this.props.renderBottom(this.state.selectedItem2)\n                : this.props.renderItem(this.state.selectedItem2)}\n            </Animated.View>\n            <Animated.View\n              style={[this.getCardStyles()[0], this.getInitialStyle().topCard]}\n              {...this._panResponder.panHandlers}\n            >\n              {this.props.renderTop\n                ? this.props.renderTop(this.state.selectedItem)\n                : this.props.renderItem(this.state.selectedItem)}\n            </Animated.View>\n          </View>\n        )}\n      </View>\n    );\n  }\n}\n\nDeckSwiper.propTypes = {\n  ...ViewPropTypes,\n  style: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.number,\n    PropTypes.array\n  ]),\n  // eslint-disable-next-line react/forbid-prop-types\n  dataSource: PropTypes.array\n};\n\nconst StyledDeckSwiper = connectStyle(\n  'NativeBase.DeckSwiper',\n  {},\n  mapPropsToStyleNames\n)(DeckSwiper);\n\nexport { StyledDeckSwiper as DeckSwiper };\n"]}