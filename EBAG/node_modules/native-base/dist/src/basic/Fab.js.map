{"version":3,"sources":["../../../src/basic/Fab.js"],"names":["DIRECTION","DOWN","LEFT","RIGHT","UP","POSITION","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","AnimatedFab","Animated","createAnimatedComponent","Button","Fab","props","prepareButtonProps","inp","_","clone","child","style","defaultProps","fabTopValue","pos","top","bottom","undefined","left","right","containerHeight","Value","variables","fabWidth","containerWidth","buttonScale","state","buttons","active","childrenArray","React","Children","toArray","children","icon","remove","item","type","displayName","setState","length","activeTimer","setTimeout","clearTimeout","i","direction","fabOtherBtns","Platform","OS","merge","getInitialStyle","buttonStyle","StyleSheet","flatten","container","containerStyle","iconStyle","fab","height","width","borderRadius","elevation","shadowColor","shadowOffset","shadowOpacity","justifyContent","alignItems","shadowRadius","position","backgroundColor","flexDirection","color","fontSize","lineHeight","transform","scale","marginBottom","incomingProps","onPress","spring","toValue","start","useNativeDriver","console","warn","upAnimate","leftAnimate","rightAnimate","downAnimate","_animate","newChildren","slice","map","push","getOtherButtonStyle","cloneElement","getContainerStyle","renderButtons","androidRipple","Version","fabOnPress","prepareFabProps","renderFab","TouchableNativeFeedback","Ripple","androidRippleColor","Component","StyledFab","mapPropsToStyleNames"],"mappings":"i1BAAA,4B,2CACA,yCAQA,8B,6CACA,iEAEA,qD,iDACA,mD,yDACA,mE,yEAEA,gC,i4BAEA,GAAMA,WAAY,CAChBC,KAAM,MADU,CAEhBC,KAAM,MAFU,CAGhBC,MAAO,OAHS,CAIhBC,GAAI,IAJY,CAAlB,CAOA,GAAMC,UAAW,CACfC,YAAa,YADE,CAEfC,aAAc,aAFC,CAGfC,SAAU,SAHK,CAIfC,UAAW,UAJI,CAAjB,CAOA,GAAMC,aAAcC,sBAASC,uBAAT,CAAiCC,cAAjC,CAApB,C,GAEMC,I,gDACJ,aAAYC,KAAZ,CAAmB,2HACXA,KADW,SAiInBC,kBAjImB,CAiIE,eAAS,CAC5B,GAAMC,KAAMC,iBAAEC,KAAF,CAAQC,MAAML,KAAd,CAAZ,CACA,MAAOE,KAAII,KAAX,CAEA,GAAMC,cAAe,EAArB,CAEA,MAAO,2BAAaL,GAAb,CAAkBK,YAAlB,CAAP,CACD,CAxIkB,OA0InBC,WA1ImB,CA0IL,aAAO,CACnB,GAAIC,MAAQ,SAAZ,CAAuB,CACrB,MAAO,CACLC,IAAK,EADA,CAELC,OAAQC,SAFH,CAGLC,KAAM,EAHD,CAILC,MAAOF,SAJF,CAAP,CAMD,CAPD,IAOO,IAAIH,MAAQ,aAAZ,CAA2B,CAChC,MAAO,CACLC,IAAKE,SADA,CAELD,OAAQ,EAFH,CAGLE,KAAMD,SAHD,CAILE,MAAO,EAJF,CAAP,CAMD,CAPM,IAOA,IAAIL,MAAQ,YAAZ,CAA0B,CAC/B,MAAO,CACLC,IAAKE,SADA,CAELD,OAAQ,EAFH,CAGLE,KAAM,EAHD,CAILC,MAAOF,SAJF,CAAP,CAMD,CAPM,IAOA,IAAIH,MAAQ,UAAZ,CAAwB,CAC7B,MAAO,CACLC,IAAK,EADA,CAELC,OAAQC,SAFH,CAGLC,KAAMD,SAHD,CAILE,MAAO,EAJF,CAAP,CAMD,CACD,MAAO,KAAP,CACD,CAzKkB,CAEjB,MAAKC,eAAL,CAAuB,GAAInB,uBAASoB,KAAb,CAAmBC,mBAAUC,QAA7B,CAAvB,CACA,MAAKC,cAAL,CAAsB,GAAIvB,uBAASoB,KAAb,CAAmB,CAAnB,CAAtB,CACA,MAAKI,WAAL,CAAmB,GAAIxB,uBAASoB,KAAb,CAAmB,CAAnB,CAAnB,CACA,MAAKK,KAAL,CAAa,CACXC,QAASV,SADE,CAEXW,OAAQ,KAFG,CAAb,CALiB,aASlB,C,6EAEmB,iBAClB,GAAMC,eAAgBC,gBAAMC,QAAN,CAAeC,OAAf,CAAuB,KAAK3B,KAAL,CAAW4B,QAAlC,CAAtB,CACA,GAAMC,MAAO1B,iBAAE2B,MAAF,CAASN,aAAT,CAAwB,cAAQ,CAC3C,GAAIO,KAAKC,IAAL,CAAUC,WAAV,GAA0B,gBAA9B,CAAgD,CAC9C,MAAO,KAAP,CACD,CACD,MAAO,KAAP,CACD,CALY,CAAb,CAOA,KAAKC,QAAL,CAAc,CACZZ,QAASO,KAAKM,MADF,CAAd,EAGA,KAAKC,WAAL,CAAmBC,WAAW,UAAM,CAClC,OAAKH,QAAL,CAAc,CACZX,OAAQ,OAAKvB,KAAL,CAAWuB,MADP,CAAd,EAGD,CAJkB,CAIhB,CAJgB,CAAnB,CAKD,C,mEAEsB,CACrB,GAAI,KAAKa,WAAT,CAAsB,CACpBE,aAAa,KAAKF,WAAlB,EACD,CACF,C,gEAEmB/B,K,CAAOkC,C,CAAG,CAC5B,GAAMP,MAAO,CACXtB,IAAK,KAAKV,KAAL,CAAWwC,SAAX,CACD,KAAKC,YAAL,CAAkB,KAAKzC,KAAL,CAAWwC,SAA7B,CAAwCD,CAAxC,EAA2C7B,GAD1C,CAEDE,SAHO,CAIXC,KAAM,KAAKb,KAAL,CAAWwC,SAAX,CACF,KAAKC,YAAL,CAAkB,KAAKzC,KAAL,CAAWwC,SAA7B,CAAwCD,CAAxC,EAA2C1B,IADzC,CAEF,CANO,CAOXC,MAAO,KAAKd,KAAL,CAAWwC,SAAX,CACH,KAAKC,YAAL,CAAkB,KAAKzC,KAAL,CAAWwC,SAA7B,CAAwCD,CAAxC,EAA2CzB,KADxC,CAEH,CATO,CAUXH,OAAQ,KAAKX,KAAL,CAAWwC,SAAX,CACJ,KAAKC,YAAL,CAAkB,KAAKzC,KAAL,CAAWwC,SAA7B,CAAwCD,CAAxC,EAA2C5B,MADvC,CAEJ,KAAKX,KAAL,CAAWuB,MAAX,GAAsB,KAAtB,CACAmB,sBAASC,EAAT,GAAgB,KAAhB,CACE,CADF,CAEE,CAHF,CAIAJ,EAAI,EAAJ,CAAS,EAhBF,CAAb,CAmBA,MAAOpC,kBAAEyC,KAAF,CACL,KAAKC,eAAL,GAAuBC,WADlB,CAELC,wBAAWC,OAAX,CAAmB3C,MAAML,KAAN,CAAYM,KAA/B,CAFK,CAGL0B,IAHK,CAAP,CAKD,C,6DAEmB,CAClB,MAAO7B,kBAAEyC,KAAF,CAAQ,KAAKC,eAAL,GAAuBI,SAA/B,CAA0C,KAAKjD,KAAL,CAAWkD,cAArD,CAAP,CACD,C,wDAEeC,S,CAAW,CACzB,MAAO,CACLC,IAAK,CACHC,OAAQpC,mBAAUC,QADf,CAEHoC,MAAOrC,mBAAUC,QAFd,CAGHqC,aAAc,EAHX,CAIHC,UAAW,CAJR,CAKHC,YAAa,MALV,CAMHC,aAAc,CAAEJ,MAAO,CAAT,CAAYD,OAAQ,CAApB,CANX,CAOHM,cAAe,GAPZ,CAQHC,eAAgB,QARb,CASHC,WAAY,QATT,CAUHC,aAAc,CAVX,CAWHC,SAAU,UAXP,CAYHpD,OAAQ,CAZL,CAaHqD,gBAAiB,MAbd,CADA,CAgBLf,UAAW,CACTc,SAAU,UADD,CAETrD,IAAK,KAAKV,KAAL,CAAW+D,QAAX,CACD,KAAKvD,WAAL,CAAiB,KAAKR,KAAL,CAAW+D,QAA5B,EAAsCrD,GADrC,CAEDE,SAJK,CAKTD,OAAQ,KAAKX,KAAL,CAAW+D,QAAX,CACJ,KAAKvD,WAAL,CAAiB,KAAKR,KAAL,CAAW+D,QAA5B,EAAsCpD,MADlC,CAEJ,EAPK,CAQTG,MAAO,KAAKd,KAAL,CAAW+D,QAAX,CACH,KAAKvD,WAAL,CAAiB,KAAKR,KAAL,CAAW+D,QAA5B,EAAsCjD,KADnC,CAEH,EAVK,CAWTD,KAAM,KAAKb,KAAL,CAAW+D,QAAX,CACF,KAAKvD,WAAL,CAAiB,KAAKR,KAAL,CAAW+D,QAA5B,EAAsClD,IADpC,CAEFD,SAbK,CAcT0C,MAAOrC,mBAAUC,QAdR,CAeTmC,OAAQ,KAAKtC,eAfJ,CAgBTkD,cAAe,KAAKjE,KAAL,CAAWwC,SAAX,CACX,KAAKxC,KAAL,CAAWwC,SAAX,GAAyBvD,UAAUE,IAAnC,EACA,KAAKa,KAAL,CAAWwC,SAAX,GAAyBvD,UAAUG,KADnC,CAEE,KAFF,CAGE,QAJS,CAKX,QArBK,CAsBTyE,WAAY,QAtBH,CAhBN,CAwCLV,oBACEe,MAAO,MADT,CAEEC,SAAU,EAFZ,CAGEC,WAAY1B,sBAASC,EAAT,GAAgB,KAAhB,CAAwB,EAAxB,CAA6B/B,SAH3C,EAIKuC,SAJL,CAxCK,CA8CLL,YAAa,CACXiB,SAAU,UADC,CAEXV,OAAQ,EAFG,CAGXC,MAAO,EAHI,CAIXzC,KAAM,CAJK,CAKX0C,aAAc,EALH,CAMXc,UAAW,KAAKhD,KAAL,CAAWE,MAAX,CACP,CAAC,CAAE+C,MAAO,GAAI1E,uBAASoB,KAAb,CAAmB,CAAnB,CAAT,CAAD,CADO,CAEP,CAAC,CAAEsD,MAAO,KAAKlD,WAAd,CAAD,CARO,CASXmD,aAAc,EATH,CAUXP,gBAAiB,MAVN,CA9CR,CAAP,CA2DD,C,kDA4CYxB,S,CAAWD,C,CAAG,CACzB,GAAIC,YAAcvD,UAAUI,EAA5B,CAAgC,CAC9B,MAAO,CACLqB,IAAKE,SADA,CAELD,OACE,KAAKX,KAAL,CAAWuB,MAAX,GAAsB,KAAtB,CACImB,sBAASC,EAAT,GAAgB,KAAhB,CACE,EADF,CAEE,CAHN,CAIIJ,EAAI,EAAJ,CAAS,EAPV,CAQL1B,KAAM,CARD,CASLC,MAAO,CATF,CAAP,CAWD,CAZD,IAYO,IAAI0B,YAAcvD,UAAUE,IAA5B,CAAkC,CACvC,MAAO,CACLuB,IAAK,CADA,CAELC,OAAQ,CAFH,CAGLE,KACE,KAAKb,KAAL,CAAWuB,MAAX,GAAsB,KAAtB,CACImB,sBAASC,EAAT,GAAgB,KAAhB,CACE,CADF,CAEE,CAHN,CAII,EAAEJ,EAAI,EAAJ,CAAStB,mBAAUC,QAAnB,CAA8B,CAAhC,CARD,CASLJ,MAAO,CATF,CAAP,CAWD,CAZM,IAYA,IAAI0B,YAAcvD,UAAUC,IAA5B,CAAkC,CACvC,MAAO,CACLwB,IACE,KAAKV,KAAL,CAAWuB,MAAX,GAAsB,KAAtB,CACImB,sBAASC,EAAT,GAAgB,KAAhB,CACE,EADF,CAEE,CAHN,CAIIJ,EAAI,EAAJ,CAAS,EANV,CAOL5B,OAAQ,CAPH,CAQLE,KAAM,CARD,CASLC,MAAO,CATF,CAAP,CAWD,CAZM,IAYA,IAAI0B,YAAcvD,UAAUG,KAA5B,CAAmC,CACxC,MAAO,CACLsB,IAAK,CADA,CAELC,OAAQ,CAFH,CAGLE,KACE,KAAKb,KAAL,CAAWuB,MAAX,GAAsB,KAAtB,CACImB,sBAASC,EAAT,GAAgB,KAAhB,CACE,EADF,CAEE,CAHN,CAIIJ,EAAI,EAAJ,CAAS,EARV,CASLzB,MAAO,CATF,CAAP,CAWD,CACD,MAAO,KAAP,CACD,C,yDAEiB,CAChB,GAAMP,cAAe,CACnBD,MAAO,KAAKuC,eAAL,GAAuBO,GADX,CAArB,CAGA,GAAMoB,eAAgBrE,iBAAEC,KAAF,CAAQ,KAAKJ,KAAb,CAAtB,CACA,MAAOwE,eAAcC,OAArB,CAEA,MAAO,2BAAaD,aAAb,CAA4BjE,YAA5B,CAAP,CACD,C,6CAEW,CACV,GAAI,CAAC,KAAKP,KAAL,CAAWuB,MAAhB,CAAwB,CACtB3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS,KAAKtD,KAAL,CAAWC,OAAX,CAAqB,IAArB,CAA4BL,mBAAUC,QADX,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CARD,IAQO,CACL,KAAK1C,QAAL,CAAc,CACZX,OAAQ,KADI,CAAd,EAGA3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS1D,mBAAUC,QADiB,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CACF,C,iDAEa,CACZ,GAAI,CAAC,KAAK5E,KAAL,CAAWuB,MAAhB,CAAwB,CACtB3B,sBAAS8E,MAAT,CAAgB,KAAKvD,cAArB,CAAqC,CACnCwD,QAAS,KAAKtD,KAAL,CAAWC,OAAX,CAAqB,IAArB,CAA4BL,mBAAUC,QADZ,CAArC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CARD,IAQO,CACL,KAAK1C,QAAL,CAAc,CACZX,OAAQ,KADI,CAAd,EAGA3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS1D,mBAAUC,QADiB,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CACF,C,mDAEc,CACb,GAAI,CAAC,KAAK5E,KAAL,CAAWuB,MAAhB,CAAwB,CACtB3B,sBAAS8E,MAAT,CAAgB,KAAKvD,cAArB,CAAqC,CACnCwD,QAAS,KAAKtD,KAAL,CAAWC,OAAX,CAAqB,IAArB,CAA4BL,mBAAUC,QADZ,CAArC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CARD,IAQO,CACL,KAAK1C,QAAL,CAAc,CACZX,OAAQ,KADI,CAAd,EAGA3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS1D,mBAAUC,QADiB,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CACF,C,iDAEa,CACZ,GAAI,CAAC,KAAK5E,KAAL,CAAWuB,MAAhB,CAAwB,CACtB3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS1D,mBAAUC,QADiB,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CARD,IAQO,CACL,KAAK1C,QAAL,CAAc,CACZX,OAAQ,KADI,CAAd,EAGA3B,sBAAS8E,MAAT,CAAgB,KAAK3D,eAArB,CAAsC,CACpC4D,QAAS1D,mBAAUC,QADiB,CAAtC,EAEG0D,KAFH,GAGAhF,sBAAS8E,MAAT,CAAgB,KAAKtD,WAArB,CAAkC,CAChCuD,QAAS,CADuB,CAEhCE,gBAAiB,IAFe,CAAlC,EAGGD,KAHH,GAID,CACF,C,2CACU,YAGL,IAHK,CAEP5E,KAFO,CAEEwC,SAFF,QAEEA,SAFF,CAEauB,QAFb,QAEaA,QAFb,CAKT,GAAIvB,SAAJ,CAAe,CACb,GAAIA,YAAcvD,UAAUI,EAA5B,CAAgC,CAC9B,GAAI0E,WAAazE,SAASG,QAAtB,EAAkCsE,WAAazE,SAASI,SAA5D,CAAuE,CACrEoF,QAAQC,IAAR,CACE,2EADF,EAGD,CAJD,IAIO,CACL,KAAKC,SAAL,GACD,CACF,CARD,IAQO,IAAIxC,YAAcvD,UAAUE,IAA5B,CAAkC,CACvC,GACE4E,WAAazE,SAASG,QAAtB,EACAsE,WAAazE,SAASC,WAFxB,CAGE,CACAuF,QAAQC,IAAR,CACE,+EADF,EAGD,CAPD,IAOO,CACL,KAAKE,WAAL,GACD,CACF,CAXM,IAWA,IAAIzC,YAAcvD,UAAUG,KAA5B,CAAmC,CACxC,GACE2E,WAAazE,SAASI,SAAtB,EACAqE,WAAazE,SAASE,YAFxB,CAGE,CACAsF,QAAQC,IAAR,CACE,kFADF,EAGD,CAPD,IAOO,CACL,KAAKG,YAAL,GACD,CACF,CAXM,IAWA,IAAI1C,YAAcvD,UAAUC,IAA5B,CAAkC,CACvC,GACE6E,WAAazE,SAASC,WAAtB,EACAwE,WAAazE,SAASE,YAFxB,CAGE,CACAsF,QAAQC,IAAR,CACE,mFADF,EAGD,CAPD,IAOO,CACL,KAAKI,WAAL,GACD,CACF,CACF,CA3CD,IA2CO,CACL,KAAKH,SAAL,GACD,CACF,C,+CAEY,iBACX,GAAI,KAAKhF,KAAL,CAAWyE,OAAf,CAAwB,CACtB,KAAKzE,KAAL,CAAWyE,OAAX,GACA,KAAKW,QAAL,GACA,KAAKhD,WAAL,CAAmBC,WAAW,UAAM,CAClC,OAAKH,QAAL,CAAc,CACZX,OAAQ,OAAKvB,KAAL,CAAWuB,MADP,CAAd,EAGD,CAJkB,CAIhB,GAJgB,CAAnB,CAKD,CACF,C,qDAEe,iBACd,GAAMC,eAAgBC,gBAAMC,QAAN,CAAeC,OAAf,CAAuB,KAAK3B,KAAL,CAAW4B,QAAlC,CAAtB,CAEA,GAAMyD,aAAc,EAApB,CACA7D,cAAc8D,KAAd,CAAoB,CAApB,EAAuBC,GAAvB,CAA2B,SAAClF,KAAD,CAAQkC,CAAR,QACzB8C,aAAYG,IAAZ,CACE,8BAAC,WAAD,WACE,MAAO,OAAKC,mBAAL,CAAyBpF,KAAzB,CAAgCkC,CAAhC,CADT,EAEM,OAAKtC,kBAAL,CAAwBI,KAAxB,CAA+BkC,CAA/B,CAFN,EAGE,cAHF,CAIE,IAAKA,CAJP,mDAMGlC,MAAML,KAAN,CAAY4B,QANf,CADF,CADyB,EAA3B,EAYA,MAAOyD,YAAP,CACD,C,6CAEW,CACV,GAAM7D,eAAgBC,gBAAMC,QAAN,CAAeC,OAAf,CAAuB,KAAK3B,KAAL,CAAW4B,QAAlC,CAAtB,CACAzB,iBAAE2B,MAAF,CAASN,aAAT,CAAwB,cAAQ,CAC9B,GAAIO,KAAKC,IAAL,CAAUC,WAAV,GAA0B,gBAA9B,CAAgD,CAC9C,MAAO,KAAP,CACD,CACD,MAAO,KAAP,CACD,CALD,EAMA,MAAOR,iBAAMiE,YAAN,CAAmBlE,cAAc,CAAd,CAAnB,CAAqC,CAC1ClB,MAAO,KAAKuC,eAAL,CAAqBrB,cAAc,CAAd,EAAiBxB,KAAjB,CAAuBM,KAA5C,EAAmD6C,SADhB,CAArC,CAAP,CAGD,C,uCAEQ,iBACP,MACE,+BAAC,qBAAD,CAAU,IAAV,EAAe,MAAO,KAAKwC,iBAAL,EAAtB,kDACG,KAAKC,aAAL,EADH,CAEGlD,sBAASC,EAAT,GAAgB,KAAhB,EACD1B,mBAAU4E,aAAV,GAA4B,KAD3B,EAEDnD,sBAASoD,OAAT,EAAoB,EAFnB,CAGC,8BAAC,6BAAD,WACE,QAAS,yBAAM,QAAKC,UAAL,EAAN,EADX,EAEM,KAAKC,eAAL,EAFN,EAGE,cAAe,CAHjB,mDAKG,KAAKC,SAAL,EALH,CAHD,CAWC,8BAAC,oCAAD,WACE,QAAS,yBAAM,QAAKF,UAAL,EAAN,EADX,CAGE,WAAYG,qCAAwBC,MAAxB,CACVlF,mBAAUmF,kBADA,CAEV,KAFU,CAHd,EAOM,KAAKJ,eAAL,EAPN,oDASE,8BAAC,iBAAD,EAAM,MAAO,CAAC,KAAKnD,eAAL,GAAuBO,GAAxB,CAA6B,KAAKpD,KAAL,CAAWM,KAAxC,CAAb,kDACG,KAAK2F,SAAL,EADH,CATF,CAbJ,CADF,CA8BD,C,iBAtceI,gB,EAwclB,GAAMC,WAAY,yCAAa,gBAAb,CAA+B,EAA/B,CAAmCC,8BAAnC,EAAyDxG,GAAzD,CAAlB,C,QACsBA,G,CAAbuG,S","file":"Fab.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Platform,\n  Animated,\n  TouchableOpacity,\n  TouchableNativeFeedback,\n  View,\n  StyleSheet\n} from 'react-native';\nimport _ from 'lodash';\nimport { connectStyle } from 'native-base-shoutem-theme';\n\nimport variables from '../theme/variables/platform';\nimport computeProps from '../utils/computeProps';\nimport mapPropsToStyleNames from '../utils/mapPropsToStyleNames';\n\nimport { Button } from './Button';\n\nconst DIRECTION = {\n  DOWN: 'down',\n  LEFT: 'left',\n  RIGHT: 'right',\n  UP: 'up'\n};\n\nconst POSITION = {\n  BOTTOM_LEFT: 'bottomLeft',\n  BOTTOM_RIGHT: 'bottomRight',\n  TOP_LEFT: 'topLeft',\n  TOP_RIGHT: 'topRight'\n};\n\nconst AnimatedFab = Animated.createAnimatedComponent(Button);\n\nclass Fab extends Component {\n  constructor(props) {\n    super(props);\n    this.containerHeight = new Animated.Value(variables.fabWidth);\n    this.containerWidth = new Animated.Value(0);\n    this.buttonScale = new Animated.Value(0);\n    this.state = {\n      buttons: undefined,\n      active: false\n    };\n  }\n\n  componentDidMount() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    const icon = _.remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    // eslint-disable-next-line react/no-did-mount-set-state\n    this.setState({\n      buttons: icon.length\n    });\n    this.activeTimer = setTimeout(() => {\n      this.setState({\n        active: this.props.active\n      });\n    }, 0);\n  }\n\n  componentWillUnmount() {\n    if (this.activeTimer) {\n      clearTimeout(this.activeTimer);\n    }\n  }\n\n  getOtherButtonStyle(child, i) {\n    const type = {\n      top: this.props.direction\n        ? this.fabOtherBtns(this.props.direction, i).top\n        : undefined,\n      left: this.props.direction\n        ? this.fabOtherBtns(this.props.direction, i).left\n        : 8,\n      right: this.props.direction\n        ? this.fabOtherBtns(this.props.direction, i).right\n        : 0,\n      bottom: this.props.direction\n        ? this.fabOtherBtns(this.props.direction, i).bottom\n        : this.props.active === false\n        ? Platform.OS === 'ios'\n          ? 8\n          : 8\n        : i * 50 + 50\n    };\n\n    return _.merge(\n      this.getInitialStyle().buttonStyle,\n      StyleSheet.flatten(child.props.style),\n      type\n    );\n  }\n\n  getContainerStyle() {\n    return _.merge(this.getInitialStyle().container, this.props.containerStyle);\n  }\n\n  getInitialStyle(iconStyle) {\n    return {\n      fab: {\n        height: variables.fabWidth,\n        width: variables.fabWidth,\n        borderRadius: 28,\n        elevation: 4,\n        shadowColor: '#000',\n        shadowOffset: { width: 0, height: 2 },\n        shadowOpacity: 0.4,\n        justifyContent: 'center',\n        alignItems: 'center',\n        shadowRadius: 2,\n        position: 'absolute',\n        bottom: 0,\n        backgroundColor: 'blue'\n      },\n      container: {\n        position: 'absolute',\n        top: this.props.position\n          ? this.fabTopValue(this.props.position).top\n          : undefined,\n        bottom: this.props.position\n          ? this.fabTopValue(this.props.position).bottom\n          : 20,\n        right: this.props.position\n          ? this.fabTopValue(this.props.position).right\n          : 20,\n        left: this.props.position\n          ? this.fabTopValue(this.props.position).left\n          : undefined,\n        width: variables.fabWidth,\n        height: this.containerHeight,\n        flexDirection: this.props.direction\n          ? this.props.direction === DIRECTION.LEFT ||\n            this.props.direction === DIRECTION.RIGHT\n            ? 'row'\n            : 'column'\n          : 'column',\n        alignItems: 'center'\n      },\n      iconStyle: {\n        color: '#fff',\n        fontSize: 24,\n        lineHeight: Platform.OS === 'ios' ? 27 : undefined,\n        ...iconStyle\n      },\n      buttonStyle: {\n        position: 'absolute',\n        height: 40,\n        width: 40,\n        left: 7,\n        borderRadius: 20,\n        transform: this.state.active\n          ? [{ scale: new Animated.Value(1) }]\n          : [{ scale: this.buttonScale }],\n        marginBottom: 10,\n        backgroundColor: 'blue'\n      }\n    };\n  }\n\n  prepareButtonProps = child => {\n    const inp = _.clone(child.props);\n    delete inp.style;\n\n    const defaultProps = {};\n\n    return computeProps(inp, defaultProps);\n  };\n\n  fabTopValue = pos => {\n    if (pos === 'topLeft') {\n      return {\n        top: 20,\n        bottom: undefined,\n        left: 20,\n        right: undefined\n      };\n    } else if (pos === 'bottomRight') {\n      return {\n        top: undefined,\n        bottom: 20,\n        left: undefined,\n        right: 20\n      };\n    } else if (pos === 'bottomLeft') {\n      return {\n        top: undefined,\n        bottom: 20,\n        left: 20,\n        right: undefined\n      };\n    } else if (pos === 'topRight') {\n      return {\n        top: 20,\n        bottom: undefined,\n        left: undefined,\n        right: 20\n      };\n    }\n    return null;\n  };\n\n  fabOtherBtns(direction, i) {\n    if (direction === DIRECTION.UP) {\n      return {\n        top: undefined,\n        bottom:\n          this.props.active === false\n            ? Platform.OS === 'ios'\n              ? 50\n              : 5\n            : i * 50 + 65,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.LEFT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          this.props.active === false\n            ? Platform.OS === 'ios'\n              ? 8\n              : 8\n            : -(i * 50 + variables.fabWidth + 2),\n        right: 0\n      };\n    } else if (direction === DIRECTION.DOWN) {\n      return {\n        top:\n          this.props.active === false\n            ? Platform.OS === 'ios'\n              ? 50\n              : 8\n            : i * 50 + 73,\n        bottom: 0,\n        left: 8,\n        right: 0\n      };\n    } else if (direction === DIRECTION.RIGHT) {\n      return {\n        top: 8,\n        bottom: 0,\n        left:\n          this.props.active === false\n            ? Platform.OS === 'ios'\n              ? 50\n              : 8\n            : i * 50 + 73,\n        right: 0\n      };\n    }\n    return null;\n  }\n\n  prepareFabProps() {\n    const defaultProps = {\n      style: this.getInitialStyle().fab\n    };\n    const incomingProps = _.clone(this.props);\n    delete incomingProps.onPress;\n\n    return computeProps(incomingProps, defaultProps);\n  }\n\n  upAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  leftAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  rightAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerWidth, {\n        toValue: this.state.buttons * 51.3 + variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n\n  downAnimate() {\n    if (!this.props.active) {\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 1,\n        useNativeDriver: true\n      }).start();\n    } else {\n      this.setState({\n        active: false\n      });\n      Animated.spring(this.containerHeight, {\n        toValue: variables.fabWidth\n      }).start();\n      Animated.spring(this.buttonScale, {\n        toValue: 0,\n        useNativeDriver: true\n      }).start();\n    }\n  }\n  _animate() {\n    const {\n      props: { direction, position }\n    } = this;\n\n    if (direction) {\n      if (direction === DIRECTION.UP) {\n        if (position === POSITION.TOP_LEFT || position === POSITION.TOP_RIGHT) {\n          console.warn(\n            'Passing direction = up with position = topLeft/topRight is not suggested.'\n          );\n        } else {\n          this.upAnimate();\n        }\n      } else if (direction === DIRECTION.LEFT) {\n        if (\n          position === POSITION.TOP_LEFT ||\n          position === POSITION.BOTTOM_LEFT\n        ) {\n          console.warn(\n            'Passing direction = left with position = topLeft/bottomLeft is not suggested.'\n          );\n        } else {\n          this.leftAnimate();\n        }\n      } else if (direction === DIRECTION.RIGHT) {\n        if (\n          position === POSITION.TOP_RIGHT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = right with position = topRight/bottomRight is not suggested.'\n          );\n        } else {\n          this.rightAnimate();\n        }\n      } else if (direction === DIRECTION.DOWN) {\n        if (\n          position === POSITION.BOTTOM_LEFT ||\n          position === POSITION.BOTTOM_RIGHT\n        ) {\n          console.warn(\n            'Passing direction = down with position = bottomLeft/bottomRight is not suggested.'\n          );\n        } else {\n          this.downAnimate();\n        }\n      }\n    } else {\n      this.upAnimate();\n    }\n  }\n\n  fabOnPress() {\n    if (this.props.onPress) {\n      this.props.onPress();\n      this._animate();\n      this.activeTimer = setTimeout(() => {\n        this.setState({\n          active: this.props.active\n        });\n      }, 100);\n    }\n  }\n\n  renderButtons() {\n    const childrenArray = React.Children.toArray(this.props.children);\n\n    const newChildren = [];\n    childrenArray.slice(1).map((child, i) =>\n      newChildren.push(\n        <AnimatedFab\n          style={this.getOtherButtonStyle(child, i)}\n          {...this.prepareButtonProps(child, i)}\n          fabButton\n          key={i}\n        >\n          {child.props.children}\n        </AnimatedFab>\n      )\n    );\n    return newChildren;\n  }\n\n  renderFab() {\n    const childrenArray = React.Children.toArray(this.props.children);\n    _.remove(childrenArray, item => {\n      if (item.type.displayName === 'Styled(Button)') {\n        return true;\n      }\n      return null;\n    });\n    return React.cloneElement(childrenArray[0], {\n      style: this.getInitialStyle(childrenArray[0].props.style).iconStyle\n    });\n  }\n\n  render() {\n    return (\n      <Animated.View style={this.getContainerStyle()}>\n        {this.renderButtons()}\n        {Platform.OS === 'ios' ||\n        variables.androidRipple === false ||\n        Platform.Version <= 21 ? (\n          <TouchableOpacity\n            onPress={() => this.fabOnPress()}\n            {...this.prepareFabProps()}\n            activeOpacity={1}\n          >\n            {this.renderFab()}\n          </TouchableOpacity>\n        ) : (\n          <TouchableNativeFeedback\n            onPress={() => this.fabOnPress()}\n            // eslint-disable-next-line new-cap\n            background={TouchableNativeFeedback.Ripple(\n              variables.androidRippleColor,\n              false\n            )}\n            {...this.prepareFabProps()}\n          >\n            <View style={[this.getInitialStyle().fab, this.props.style]}>\n              {this.renderFab()}\n            </View>\n          </TouchableNativeFeedback>\n        )}\n      </Animated.View>\n    );\n  }\n}\nconst StyledFab = connectStyle('NativeBase.Fab', {}, mapPropsToStyleNames)(Fab);\nexport { StyledFab as Fab };\n"]}